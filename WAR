#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

#define TERRA 10
#define NEVE 11
#define AGUA 4
#define CAMINHOHOR 3
#define CAMINHOVER 1
#define HORIZONTAL 2
#define VERTICAL 7
#define CANTINFESQ 8
#define CANTINFDIR 9
#define CANTSUPESQ 5
#define CANTSUPDIR 6
#define PAIS 0

char pais[21][4];

char num_player[2], letra_pais[3];

void inicio_jogo(){
	
	char player1[100], player2[100];

	int num_aleatorio;
	
	printf("\t\t\t\t\t\t\t\t\tBem-vindo ao MINI WAR.\n\t\t\t\t\t\t\t\t\tAperte qualquer tecla para comecar o jogo.\n");

	system("pause");
		
	printf("\t\t\t\t\t\t\t\t\tPlayer 1, digite seu username: ");
	
	scanf(" \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t%[^\n]s", &player1);
	
	printf("\t\t\t\t\t\t\t\t\tPlayer 2, digite seu username: ");
	
	scanf(" \t\t\t\t\t\t\t\t\t%[^\n]s", &player2);
	
	printf("\t\t\t\t\t\t\t\t\tCada pais possui uma numeracao seguido de uma letra.\n\t\t\t\t\t\t\t\t\tOs paises de numero 1 pertencem a %s.\n\t\t\t\t\t\t\t\t\tEnquanto os paises de numero 2 pertencem a %s.\n\t\t\t\t\t\t\t\t\tCada um de voces possuem 5 tropas adicionais.\n\t\t\t\t\t\t\t\t\tPosicione-as com sabedoria.\n", player1, player2);
	
	srand(time(NULL));
	
	num_aleatorio = rand() % 2;
	
	if(num_aleatorio == 0){
		
		printf("\t\t\t\t\t\t\t\t\t%s, eh sua vez!\n", player1);
		printf("\t\t\t\t\t\t\t\t\t%s, posicione suas tropas!\n", player1);
		
	}else if(num_aleatorio == 1){
		
		printf("\t\t\t\t\t\t\t\t\t%s, eh sua vez!\n", player2);
		printf("\t\t\t\t\t\t\t\t\t%s, posicione suas tropas!\n", player2);
	}
	
}

void nome_paises(char pais[21][4]){
		
	int k, num_aleatorio, qntd_player1 = 0, qntd_player2 = 0;
	
	srand(time(NULL));
	
	for(k = 0; k < 20; k++){
		
		num_aleatorio = rand() % 2;
		
		if((num_aleatorio == 0 && qntd_player1 < 10) || qntd_player2 >= 10){
			
			strcpy(num_player, "1\0");
			
			qntd_player1++;
			
		} else if((num_aleatorio == 1 && qntd_player2 < 10) || qntd_player1 >= 10){
		
			strcpy(num_player, "2\0");
			
			qntd_player2++;
			
		} letra_pais[0] = 65 + k;
		
		letra_pais[1] = '-';
		
		letra_pais[2] = '\0';
		
		strcat(num_player, letra_pais);
		
		strcpy(pais[k], num_player);
		
		num_player[0] = '\0';
		
		letra_pais[0] = '\0';
	}
	
}

void print_mapa(){
	
	system("color 1f");
	
	char pais[21][4];
	
	int x, i, j, cont = 0, tropas[21] = {1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}, mapa[40][75] = {
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,2,2,2,6,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,7,0,7,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,8,2,2,2,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,5,2,2,2,6,5,2,2,2,6,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,2,2,2,6,5,2,2,2,6,4,5,2,2,2,6,5,2,2,2,6,5,2,2,2,6,4,4,4,4,4,4,4,
3,3,3,3,3,3,3,7,0,7,7,0,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,0,7,7,0,7,3,7,0,7,7,0,7,7,0,7,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,8,2,2,2,9,8,2,2,2,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,2,2,2,9,8,2,2,2,9,4,8,2,2,2,9,8,2,2,2,9,8,2,2,2,9,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,5,2,2,2,6,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,2,2,2,6,4,5,2,2,2,6,5,2,2,2,6,5,2,2,2,6,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,7,0,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,0,7,3,7,0,7,7,0,7,7,0,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,8,2,2,2,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,2,2,2,9,4,8,2,2,2,9,8,2,2,2,9,8,2,2,2,9,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,1,4,4,5,2,2,2,6,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,2,2,2,6,5,2,2,2,6,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,3,3,3,7,0,7,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,7,0,7,7,0,7,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,8,2,2,2,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,2,2,2,9,8,2,2,2,9,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,5,2,2,2,6,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,2,2,2,6,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,7,0,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,0,7,4,4,4,4,4,4,4,4,4,4,5,2,2,2,6,5,2,2,2,6,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,8,2,2,2,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,2,2,2,9,4,4,4,4,4,4,4,4,4,4,7,0,7,7,0,7,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,2,2,2,9,8,2,2,2,9,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4
};
	
	for(i = 0; i < 40; i++ ){
		
		for(j = 0 ; j < 75; j++ ){
			
			if(mapa[i][j] == NEVE){
				
				printf("%c%c",219,219);
					
			}else if(mapa[i][j] == AGUA){
				
				printf("%c%c",32,32);
				
										
			}else if(mapa[i][j] == HORIZONTAL){
				
				printf("%c%c",205,205);
										
			}else if(mapa[i][j] == VERTICAL){
				
				printf("%c%c",186,186);
										
			}else if(mapa[i][j] == CANTINFESQ){
				
				printf("%c%c",200,200);
										
			}else if(mapa[i][j] == CANTINFDIR){
				
				printf("%c%c",188,188);
										
			}else if(mapa[i][j] == CANTSUPESQ){
				
				printf("%c%c",201,201);	
									
			}else if(mapa[i][j] == CANTSUPDIR){
				
				printf("%c%c",187,187);
										
			}else if(mapa[i][j] == CAMINHOHOR){
				
				printf("%c%c",196,196);	
									
			}else if(mapa[i][j] == CAMINHOVER){
				
				printf("%c%c",124,124);	
									
			}else if(mapa[i][j] == PAIS){
				
				nome_paises(pais);
						
				printf("%s%.3d", pais[cont], tropas[x]);		
			
				cont++;
				
				x++;
			}
				
		}printf("\n");
		
	} char posicao_pais;
	
	int num_posicao_pais, teste_v_f = 0, numtropasadic, a = 97, b, c, qtp, Y = 10, U, nt;

	for(nt = 0; nt <= qtp; nt++){ 
	
		printf("Selecione o pais a adicionar as tropas:\n");
		
		scanf("%s", &posicao_pais); //ler a letra do pais
		
		fflush(stdin);
		
		num_posicao_pais = posicao_pais;
		
		for(b = 65; b <= 84; b++){
			
			if(num_posicao_pais == b || num_posicao_pais == a){
				
				teste_v_f = 1;
			
			} a++;
			
		}
		
		if(teste_v_f == 1){
			
			for(c = 0; c < 21; c++){
				
			if(posicao_pais == pais[c][1]){ //Comparar a letra digitada com a letra do país no mapa
	
			printf("Digite o numero de tropas que voce deseja adicionar no pais:\n");
		
			scanf("%d", &numtropasadic); // Ler o número de tropas à adicionar
			
			if (numtropasadic > nt || numtropasadic == 0){ // verificar se é válido ou não
			
				printf("Nao e possivel adicionar! Tente novamente\n!!!");
					
			}else{
				
				nt = numtropasadic;
			}
		}	
				
			}
		
		}else{
			
			printf("Pais nao registrado! Tente novamente!!!\n");
			
		}
		
	}
		
}
//Quantidade de dados por jogador ---TROPAS----
int calcular_Quantidade_Dados_Jogador1(int idRodadaJogador){
	
	
	
	if(idRodadaJogador == 1){

		//aqui pega as variaveis globais (qntd_player1) 

	}else{
		//aqui pega as variaveis globais (qntd_player2) 
	}
	
	
	
}


//dados de ataque e defesa
	int ataque (int qtd_dados){
		int dado_ataque[qtd_dados];
		int i;
		int maior_ataque = 0;
		for (i=0; i<qtd_dados; i++){
			srand(time(NULL));
			dado_ataque[i] = (rand() % 5) + 1;
		//pegando o maior numero sorteado pelos dados de ataque para compará-lo com o maior dos de defesa;
			if (maior_ataque < dado_ataque[i]) maior_ataque = dado_ataque[i];			
	}
	return maior_ataque; 
}
int defesa (int i, int dado_defesa[3], int maior_defesa){
	maior_defesa = 0;
	for (i=0; i<3; i++){
		srand(time(NULL));
		dado_defesa[i] = (rand() % 5) + 1;
		//pegando o maior numero sorteado pelos dados de ataque para compará-lo com o maior dos de defesa;	
		if (maior_defesa < dado_defesa[i]) maior_defesa = dado_defesa[i];		
	}
	return maior_defesa; 
}


int main(){
	
	inicio_jogo();
		
	print_mapa();
	
	return 0;
	
}
